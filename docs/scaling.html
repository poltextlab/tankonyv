<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 Szövegskálázás | Szövegbányászat és mesterséges intelligencia R-ben</title>
  <meta name="description" content="9 Szövegskálázás | Szövegbányászat és mesterséges intelligencia R-ben" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="9 Szövegskálázás | Szövegbányászat és mesterséges intelligencia R-ben" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="9 Szövegskálázás | Szövegbányászat és mesterséges intelligencia R-ben" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 Szövegskálázás | Szövegbányászat és mesterséges intelligencia R-ben" />
  
  <meta name="twitter:description" content="9 Szövegskálázás | Szövegbányászat és mesterséges intelligencia R-ben" />
  

<meta name="author" content="Sebők Miklós, Ring Orsolya, Máté Ákos" />


<meta name="date" content="2023-01-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="embedding.html"/>
<link rel="next" href="similarity.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="konyv_style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Szövegbányászat R-ben</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Üdvözöljük!</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#online-frissítések"><i class="fa fa-check"></i>2.0 - Online frissítések</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#online-frissítések-1"><i class="fa fa-check"></i>3.0 - Online frissítések</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#köszönetnyilvánítás"><i class="fa fa-check"></i>Köszönetnyilvánítás</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Bevezetés</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#a-kötet-témái"><i class="fa fa-check"></i><b>1.1</b> A kötet témái</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#használati-utasítás"><i class="fa fa-check"></i><b>1.2</b> Használati utasítás</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#a-hunminer-használata"><i class="fa fa-check"></i><b>1.3</b> A HunMineR használata</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#handson"><i class="fa fa-check"></i><b>1.4</b> Egy bevezető példa</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="alapfogalmak.html"><a href="alapfogalmak.html"><i class="fa fa-check"></i><b>2</b> Kulcsfogalmak</a>
<ul>
<li class="chapter" data-level="2.1" data-path="alapfogalmak.html"><a href="alapfogalmak.html#big-data-és-társadalomtudomány"><i class="fa fa-check"></i><b>2.1</b> Big Data és társadalomtudomány</a></li>
<li class="chapter" data-level="2.2" data-path="alapfogalmak.html"><a href="alapfogalmak.html#fogalmi-alapok"><i class="fa fa-check"></i><b>2.2</b> Fogalmi alapok</a></li>
<li class="chapter" data-level="2.3" data-path="alapfogalmak.html"><a href="alapfogalmak.html#a-szövegbányászat-alapelvei"><i class="fa fa-check"></i><b>2.3</b> A szövegbányászat alapelvei</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="adatkezeles.html"><a href="adatkezeles.html"><i class="fa fa-check"></i><b>3</b> Adatkezelés R-ben</a>
<ul>
<li class="chapter" data-level="3.1" data-path="adatkezeles.html"><a href="adatkezeles.html#az-adatok-importálása"><i class="fa fa-check"></i><b>3.1</b> Az adatok importálása</a></li>
<li class="chapter" data-level="3.2" data-path="adatkezeles.html"><a href="adatkezeles.html#az-adatok-exportálása"><i class="fa fa-check"></i><b>3.2</b> Az adatok exportálása</a></li>
<li class="chapter" data-level="3.3" data-path="adatkezeles.html"><a href="adatkezeles.html#a-pipe-operátor"><i class="fa fa-check"></i><b>3.3</b> A pipe operátor</a></li>
<li class="chapter" data-level="3.4" data-path="adatkezeles.html"><a href="adatkezeles.html#műveletek-adattáblákkal"><i class="fa fa-check"></i><b>3.4</b> Műveletek adattáblákkal</a></li>
<li class="chapter" data-level="3.5" data-path="adatkezeles.html"><a href="adatkezeles.html#strings-3"><i class="fa fa-check"></i><b>3.5</b> Munka karakter vektorokkal</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="corpus_ch.html"><a href="corpus_ch.html"><i class="fa fa-check"></i><b>4</b> Korpuszépítés és szövegelőkészítés</a>
<ul>
<li class="chapter" data-level="4.1" data-path="corpus_ch.html"><a href="corpus_ch.html#szövegbeszerzés"><i class="fa fa-check"></i><b>4.1</b> Szövegbeszerzés</a></li>
<li class="chapter" data-level="4.2" data-path="corpus_ch.html"><a href="corpus_ch.html#szövegelőkészítés"><i class="fa fa-check"></i><b>4.2</b> Szövegelőkészítés</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="corpus_ch.html"><a href="corpus_ch.html#tokenizálás-szótövezés-kisbetűsítés-és-a-tiltólistás-szavak-eltávolítása"><i class="fa fa-check"></i><b>4.2.1</b> Tokenizálás, szótövezés, kisbetűsítés és a tiltólistás szavak eltávolítása</a></li>
<li class="chapter" data-level="4.2.2" data-path="corpus_ch.html"><a href="corpus_ch.html#dokumentum-kifejezés-mátrix-dtm-dfm"><i class="fa fa-check"></i><b>4.2.2</b> Dokumentum kifejezés mátrix (dtm, dfm)</a></li>
<li class="chapter" data-level="4.2.3" data-path="corpus_ch.html"><a href="corpus_ch.html#súlyozás"><i class="fa fa-check"></i><b>4.2.3</b> Súlyozás</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="leiro_stat.html"><a href="leiro_stat.html"><i class="fa fa-check"></i><b>5</b> Leíró statisztika</a>
<ul>
<li class="chapter" data-level="5.1" data-path="leiro_stat.html"><a href="leiro_stat.html#szövegek-a-vektortérben"><i class="fa fa-check"></i><b>5.1</b> Szövegek a vektortérben</a></li>
<li class="chapter" data-level="5.2" data-path="leiro_stat.html"><a href="leiro_stat.html#leíró-statisztika"><i class="fa fa-check"></i><b>5.2</b> Leíró statisztika</a></li>
<li class="chapter" data-level="5.3" data-path="leiro_stat.html"><a href="leiro_stat.html#a-szövegek-lexikai-diverzitása"><i class="fa fa-check"></i><b>5.3</b> A szövegek lexikai diverzitása</a></li>
<li class="chapter" data-level="5.4" data-path="leiro_stat.html"><a href="leiro_stat.html#összehasonlításleiro-5"><i class="fa fa-check"></i><b>5.4</b> Összehasonlítás</a></li>
<li class="chapter" data-level="5.5" data-path="leiro_stat.html"><a href="leiro_stat.html#a-kulcsszavak-kontextusa"><i class="fa fa-check"></i><b>5.5</b> A kulcsszavak kontextusa</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sentiment.html"><a href="sentiment.html"><i class="fa fa-check"></i><b>6</b> Szótárak és érzelemelemzés</a>
<ul>
<li class="chapter" data-level="6.1" data-path="sentiment.html"><a href="sentiment.html#fogalmi-alapok-1"><i class="fa fa-check"></i><b>6.1</b> Fogalmi alapok</a></li>
<li class="chapter" data-level="6.2" data-path="sentiment.html"><a href="sentiment.html#szótárak-az-r-ben"><i class="fa fa-check"></i><b>6.2</b> Szótárak az R-ben</a></li>
<li class="chapter" data-level="6.3" data-path="sentiment.html"><a href="sentiment.html#a-magyar-nemzet-elemzése"><i class="fa fa-check"></i><b>6.3</b> A <em>Magyar Nemzet</em> elemzése</a></li>
<li class="chapter" data-level="6.4" data-path="sentiment.html"><a href="sentiment.html#mnb-sajtóközlemények"><i class="fa fa-check"></i><b>6.4</b> MNB sajtóközlemények</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="lda_ch.html"><a href="lda_ch.html"><i class="fa fa-check"></i><b>7</b> Felügyelet nélküli tanulás</a>
<ul>
<li class="chapter" data-level="7.1" data-path="lda_ch.html"><a href="lda_ch.html#fogalmi-alapok-2"><i class="fa fa-check"></i><b>7.1</b> Fogalmi alapok</a></li>
<li class="chapter" data-level="7.2" data-path="lda_ch.html"><a href="lda_ch.html#k-közép-klaszterezés"><i class="fa fa-check"></i><b>7.2</b> K-közép klaszterezés</a></li>
<li class="chapter" data-level="7.3" data-path="lda_ch.html"><a href="lda_ch.html#lda-topikmodelleklda1"><i class="fa fa-check"></i><b>7.3</b> LDA topikmodellek</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="lda_ch.html"><a href="lda_ch.html#a-vem-módszer-alkalmazása-a-magyar-törvények-korpuszán"><i class="fa fa-check"></i><b>7.3.1</b> A VEM módszer alkalmazása a magyar törvények korpuszán</a></li>
<li class="chapter" data-level="7.3.2" data-path="lda_ch.html"><a href="lda_ch.html#az-lda-gibbs-módszer-alkalmazása-a-magyar-törvények-korpuszán"><i class="fa fa-check"></i><b>7.3.2</b> Az LDA Gibbs módszer alkalmazása a magyar törvények korpuszán</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="lda_ch.html"><a href="lda_ch.html#strukturális-topikmodellek"><i class="fa fa-check"></i><b>7.4</b> Strukturális topikmodellek</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="embedding.html"><a href="embedding.html"><i class="fa fa-check"></i><b>8</b> Szóbeágyazások</a>
<ul>
<li class="chapter" data-level="8.1" data-path="embedding.html"><a href="embedding.html#a-szóbeágyazás-célja"><i class="fa fa-check"></i><b>8.1</b> A szóbeágyazás célja</a></li>
<li class="chapter" data-level="8.2" data-path="embedding.html"><a href="embedding.html#word2vec-és-glove"><i class="fa fa-check"></i><b>8.2</b> Word2Vec és GloVe</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="embedding.html"><a href="embedding.html#glove-használata-magyar-média-korpuszon"><i class="fa fa-check"></i><b>8.2.1</b> GloVe használata magyar média korpuszon</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="scaling.html"><a href="scaling.html"><i class="fa fa-check"></i><b>9</b> Szövegskálázás</a>
<ul>
<li class="chapter" data-level="9.1" data-path="scaling.html"><a href="scaling.html#fogalmi-alapok-3"><i class="fa fa-check"></i><b>9.1</b> Fogalmi alapok</a></li>
<li class="chapter" data-level="9.2" data-path="scaling.html"><a href="scaling.html#wordfish"><i class="fa fa-check"></i><b>9.2</b> Wordfish</a></li>
<li class="chapter" data-level="9.3" data-path="scaling.html"><a href="scaling.html#wordscores"><i class="fa fa-check"></i><b>9.3</b> Wordscores</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="similarity.html"><a href="similarity.html"><i class="fa fa-check"></i><b>10</b> Szövegösszehasonlítás</a>
<ul>
<li class="chapter" data-level="10.1" data-path="similarity.html"><a href="similarity.html#a-szövegösszehasonlítás-különböző-megközelítései"><i class="fa fa-check"></i><b>10.1</b> A szövegösszehasonlítás különböző megközelítései</a></li>
<li class="chapter" data-level="10.2" data-path="similarity.html"><a href="similarity.html#lexikális-hasonlóság"><i class="fa fa-check"></i><b>10.2</b> Lexikális hasonlóság</a></li>
<li class="chapter" data-level="10.3" data-path="similarity.html"><a href="similarity.html#szemantikai-hasonlóság"><i class="fa fa-check"></i><b>10.3</b> Szemantikai hasonlóság</a></li>
<li class="chapter" data-level="10.4" data-path="similarity.html"><a href="similarity.html#hasonlóságszámítás"><i class="fa fa-check"></i><b>10.4</b> Hasonlóságszámítás</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="similarity.html"><a href="similarity.html#adatbázis-importálás-és-előkészítés"><i class="fa fa-check"></i><b>10.4.1</b> Adatbázis-importálás és előkészítés</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="similarity.html"><a href="similarity.html#szövegtisztítás"><i class="fa fa-check"></i><b>10.5</b> Szövegtisztítás</a></li>
<li class="chapter" data-level="10.6" data-path="similarity.html"><a href="similarity.html#a-jaccard-hasonlóság-számítása"><i class="fa fa-check"></i><b>10.6</b> A Jaccard-hasonlóság számítása</a></li>
<li class="chapter" data-level="10.7" data-path="similarity.html"><a href="similarity.html#a-koszinusz-hasonlóság-számítása"><i class="fa fa-check"></i><b>10.7</b> A koszinusz-hasonlóság számítása</a></li>
<li class="chapter" data-level="10.8" data-path="similarity.html"><a href="similarity.html#az-eredmények-vizualizációja"><i class="fa fa-check"></i><b>10.8</b> Az eredmények vizualizációja</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="nlp_ch.html"><a href="nlp_ch.html"><i class="fa fa-check"></i><b>11</b> NLP és névelemfelismerés</a>
<ul>
<li class="chapter" data-level="11.1" data-path="nlp_ch.html"><a href="nlp_ch.html#fogalmi-alapok-4"><i class="fa fa-check"></i><b>11.1</b> Fogalmi alapok</a></li>
<li class="chapter" data-level="11.2" data-path="nlp_ch.html"><a href="nlp_ch.html#a-spacyr-használata"><i class="fa fa-check"></i><b>11.2</b> A <code>spacyr</code> használata</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="nlp_ch.html"><a href="nlp_ch.html#lemmatizálás-tokenizálás-szófaji-egyértelműsítés"><i class="fa fa-check"></i><b>11.2.1</b> Lemmatizálás, tokenizálás, szófaji egyértelműsítés</a></li>
<li class="chapter" data-level="11.2.2" data-path="nlp_ch.html"><a href="nlp_ch.html#saját-.txt-vagy-.csv-fájlokban-elmentett-szövegek-lemmatizálása"><i class="fa fa-check"></i><b>11.2.2</b> Saját <code>.txt</code> vagy <code>.csv</code> fájlokban elmentett szövegek lemmatizálása</a></li>
<li class="chapter" data-level="11.2.3" data-path="nlp_ch.html"><a href="nlp_ch.html#névelemfelismerés-és-eredményeinek-vizualizálása"><i class="fa fa-check"></i><b>11.2.3</b> Névelemfelismerés és eredményeinek vizualizálása</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="felugyelt.html"><a href="felugyelt.html"><i class="fa fa-check"></i><b>12</b> Osztályozás és felügyelt tanulás</a>
<ul>
<li class="chapter" data-level="12.1" data-path="felugyelt.html"><a href="felugyelt.html#basics"><i class="fa fa-check"></i><b>12.1</b> Fogalmi alapok</a></li>
<li class="chapter" data-level="12.2" data-path="felugyelt.html"><a href="felugyelt.html#osztályozás-felügyelt-tanulással"><i class="fa fa-check"></i><b>12.2</b> Osztályozás felügyelt tanulással</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="felugyelt.html"><a href="felugyelt.html#naïve-bayes"><i class="fa fa-check"></i><b>12.2.1</b> Naïve Bayes</a></li>
<li class="chapter" data-level="12.2.2" data-path="felugyelt.html"><a href="felugyelt.html#support-vector-machine"><i class="fa fa-check"></i><b>12.2.2</b> Support-vector machine</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="függelék.html"><a href="függelék.html"><i class="fa fa-check"></i><b>13</b> Függelék</a>
<ul>
<li class="chapter" data-level="13.1" data-path="függelék.html"><a href="függelék.html#az-r-és-az-rstudio-használata"><i class="fa fa-check"></i><b>13.1</b> Az R és az RStudio használata</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="függelék.html"><a href="függelék.html#az-rstudio-kezdőfelülete"><i class="fa fa-check"></i><b>13.1.1</b> Az RStudio kezdőfelülete</a></li>
<li class="chapter" data-level="13.1.2" data-path="függelék.html"><a href="függelék.html#projektmunka"><i class="fa fa-check"></i><b>13.1.2</b> A projektalapú munka</a></li>
<li class="chapter" data-level="13.1.3" data-path="függelék.html"><a href="függelék.html#scriptek-szerkesztése-függvények-használata"><i class="fa fa-check"></i><b>13.1.3</b> Scriptek szerkesztése, függvények használata</a></li>
<li class="chapter" data-level="13.1.4" data-path="függelék.html"><a href="függelék.html#packages"><i class="fa fa-check"></i><b>13.1.4</b> R csomagok</a></li>
<li class="chapter" data-level="13.1.5" data-path="függelék.html"><a href="függelék.html#object"><i class="fa fa-check"></i><b>13.1.5</b> Objektumok tárolása, értékadás</a></li>
<li class="chapter" data-level="13.1.6" data-path="függelék.html"><a href="függelék.html#vector"><i class="fa fa-check"></i><b>13.1.6</b> Vektorok</a></li>
<li class="chapter" data-level="13.1.7" data-path="függelék.html"><a href="függelék.html#faktorok"><i class="fa fa-check"></i><b>13.1.7</b> Faktorok</a></li>
<li class="chapter" data-level="13.1.8" data-path="függelék.html"><a href="függelék.html#data-frame"><i class="fa fa-check"></i><b>13.1.8</b> Data frame</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="függelék.html"><a href="függelék.html#sajat-adat"><i class="fa fa-check"></i><b>13.2</b> Munka saját adatokkal</a></li>
<li class="chapter" data-level="13.3" data-path="függelék.html"><a href="függelék.html#dataviz"><i class="fa fa-check"></i><b>13.3</b> Vizualizáció</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="irodalomjegyzék.html"><a href="irodalomjegyzék.html"><i class="fa fa-check"></i>Irodalomjegyzék</a></li>
<li class="divider"></li>
<li> Sebők Miklós, Ring Orsolya, és Máté Ákos. 2021. Szövegbányászat és Mesterséges Intelligencia R-ben. Budapest: Typotex. </li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Szövegbányászat és mesterséges intelligencia R-ben</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="scaling" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">9</span> Szövegskálázás<a href="scaling.html#scaling" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="fogalmi-alapok-3" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Fogalmi alapok<a href="scaling.html#fogalmi-alapok-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A politikatudomány egyik izgalmas kérdése a szereplők ideológiai, vagy közpolitikai skálákon való elhelyezése. Ezt jellemzően pártprogramok vagy különböző ügyekkel kapcsolatos álláspontpontok alapján szokták meghatározni, de a politikusok beszédei is alkalmasak arra, hogy meghatározzuk a beszélő ideológiai hovatartozását. A szövegbányászat területén jellemzően a wordfish és a wordscores módszert alkalmazzák erre a feladatra. Míg előbbi a felügyelet nélküli módszerek sorába tartozik, utóbbi felügyelt módszerek közé.</p>
<p>A felügyelet nélküli <code>wordfish</code> módszer a skálázás során nem a referencia dokumentumokra támaszkodik, hanem olyan kifejezéseket keres a szövegben, amelyek megkülönböztetik egymástól a politikai spektrum különböző pontjain elhelyezkedő beszélőket. Az IRT-n (<em>item response theory</em>) alapuló módszer azt feltételezi, hogy a politikusok egy kevés dimenziós politikai térben mozognak, amely tér leírható az <em>i</em> politikus <span class="math inline">\(\theta_1\)</span> paraméterével. Egy politikus (vagy párt) ebben a térben elfoglalt helyzete pedig befolyásolja a szavak szövegekben történő használatát. A módszer erőssége, hogy kevés erőforrás-befektetéssel megbízható becsléseket ad, ha a szövegek valóban az ideológiák mentén különböznek, tehát ha a szereplők erősen ideológiai tartalamú diskurzust folytatnak. Alkalmazásakor azonban tudnunk kell: a módszer nem képes kezelni, hogy a szövegek között nem csak ideológiai különbség lehet, hanem például stílusból és témából eredő eltérések is. Mivel a modell nem felügyelt, ezért nehéz garantálni, hogy valóban megbízhatóan azonosítja a szereplők elhelyezkedését a politikai térben, így az eredményeket mindenképpen körültekintően és alaposan kell validálni <span class="citation">(<a href="irodalomjegyzék.html#ref-grimmer2013text">Grimmer and Stewart 2013</a>; <a href="irodalomjegyzék.html#ref-hjorthComputersCodersVoters2015">Hjorth et al. 2015</a>; <a href="irodalomjegyzék.html#ref-slapinScalingModelEstimating2008">Slapin and Proksch 2008</a>)</span>.</p>
<p>A felügyelt <code>wordscores</code> a szótári módszerekhez hasonlóan a szövegeket a bennük található szavak alapján helyezi el a politikai térben oly módon, hogy a referenciadokumentumok szövegét használja tanító halmazként. A wordscores kiindulópontja, hogy pozíció pontszámokat kell rendelni referencia szövegekhez. A modell számításba veszi a szövegek szavainak súlyozott gyakoriságát és a pozíciópontszám, valamint a szógyakoriság alapján becsüli meg a korpuszban lévő többi dokumentum pozícióját <span class="citation">(<a href="irodalomjegyzék.html#ref-laver2003extracting">Laver, Benoit, and Garry 2003</a>)</span>.</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="scaling.html#cb168-1" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb168-2"><a href="scaling.html#cb168-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb168-3"><a href="scaling.html#cb168-3" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb168-4"><a href="scaling.html#cb168-4" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb168-5"><a href="scaling.html#cb168-5" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb168-6"><a href="scaling.html#cb168-6" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb168-7"><a href="scaling.html#cb168-7" tabindex="-1"></a><span class="fu">library</span>(quanteda.textmodels)</span>
<span id="cb168-8"><a href="scaling.html#cb168-8" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb168-9"><a href="scaling.html#cb168-9" tabindex="-1"></a><span class="fu">library</span>(HunMineR)</span></code></pre></div>
<p>A skálázási algoritmusokat egy kis korpuszon mutatjuk be. A minta dokumentumok a 2014–2018-as parlamenti ciklusban az Országgyűlésben frakcióvezető politikusok egy-egy véletlenszerűen kiválasztott napirend előtti felszólalásai. Ebben a ciklusban összesen 11 frakcióvezetője volt a két kormánypárti és öt ellenzéki frakciónak. <a href="#fn47" class="footnote-ref" id="fnref47"><sup>47</sup></a> A dokumentumokon először elvégeztük a szokásos előkészítési lépéseket.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="scaling.html#cb169-1" tabindex="-1"></a>parl_beszedek <span class="ot">&lt;-</span> HunMineR<span class="sc">::</span>data_parlspeakers_small</span>
<span id="cb169-2"><a href="scaling.html#cb169-2" tabindex="-1"></a></span>
<span id="cb169-3"><a href="scaling.html#cb169-3" tabindex="-1"></a>beszedek_tiszta <span class="ot">&lt;-</span> parl_beszedek <span class="sc">%&gt;%</span> </span>
<span id="cb169-4"><a href="scaling.html#cb169-4" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb169-5"><a href="scaling.html#cb169-5" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;[:cntrl:]&quot;</span>),</span>
<span id="cb169-6"><a href="scaling.html#cb169-6" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;[:punct:]&quot;</span>),</span>
<span id="cb169-7"><a href="scaling.html#cb169-7" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">str_remove_all</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;[:digit:]&quot;</span>),</span>
<span id="cb169-8"><a href="scaling.html#cb169-8" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">str_to_lower</span>(text),</span>
<span id="cb169-9"><a href="scaling.html#cb169-9" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">str_trim</span>(text),</span>
<span id="cb169-10"><a href="scaling.html#cb169-10" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">str_squish</span>(text)</span>
<span id="cb169-11"><a href="scaling.html#cb169-11" tabindex="-1"></a>  )</span></code></pre></div>
<p>A glimpse funkció segítségével ismét megtekinthetjük, mint az eredeti szöveget és a tisztított is, ezzel nem csak azt tudjuk ellenőrizni, hogy a tisztítás sikeres volt-e, hanem a metaadatokat is megnézhetjük, amelyek jelenesetben a felszólalás azonosító száma a felszólaló neve, valamint a pártja.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="scaling.html#cb170-1" tabindex="-1"></a><span class="fu">glimpse</span>(parl_beszedek)</span>
<span id="cb170-2"><a href="scaling.html#cb170-2" tabindex="-1"></a><span class="co">#&gt; Rows: 10</span></span>
<span id="cb170-3"><a href="scaling.html#cb170-3" tabindex="-1"></a><span class="co">#&gt; Columns: 4</span></span>
<span id="cb170-4"><a href="scaling.html#cb170-4" tabindex="-1"></a><span class="co">#&gt; $ id         &lt;chr&gt; &quot;20142018_024_0002_0002&quot;, &quot;20142018_055_0002_0002&quot;, &quot;20142018_064_0002_0002&quot;, &quot;20142018_115_0002_0002&quot;, &quot;201420…</span></span>
<span id="cb170-5"><a href="scaling.html#cb170-5" tabindex="-1"></a><span class="co">#&gt; $ text       &lt;chr&gt; &quot;VONA GÁBOR (Jobbik): Tisztelt Elnök Úr! Tisztelt Országgyűlés! A tegnapi napon 11 helyen tartottak időközi önk…</span></span>
<span id="cb170-6"><a href="scaling.html#cb170-6" tabindex="-1"></a><span class="co">#&gt; $ felszolalo &lt;chr&gt; &quot;Vona Gábor (Jobbik)&quot;, &quot;Dr. Schiffer András (LMP)&quot;, &quot;Dr. Szél Bernadett (LMP)&quot;, &quot;Tóbiás József (MSZP)&quot;, &quot;Schmuc…</span></span>
<span id="cb170-7"><a href="scaling.html#cb170-7" tabindex="-1"></a><span class="co">#&gt; $ part       &lt;chr&gt; &quot;Jobbik&quot;, &quot;LMP&quot;, &quot;LMP&quot;, &quot;MSZP&quot;, &quot;LMP&quot;, &quot;MSZP&quot;, &quot;Jobbik&quot;, &quot;Fidesz&quot;, &quot;KDNP&quot;, &quot;Fidesz&quot;</span></span>
<span id="cb170-8"><a href="scaling.html#cb170-8" tabindex="-1"></a><span class="fu">glimpse</span>(beszedek_tiszta)</span>
<span id="cb170-9"><a href="scaling.html#cb170-9" tabindex="-1"></a><span class="co">#&gt; Rows: 10</span></span>
<span id="cb170-10"><a href="scaling.html#cb170-10" tabindex="-1"></a><span class="co">#&gt; Columns: 4</span></span>
<span id="cb170-11"><a href="scaling.html#cb170-11" tabindex="-1"></a><span class="co">#&gt; $ id         &lt;chr&gt; &quot;20142018_024_0002_0002&quot;, &quot;20142018_055_0002_0002&quot;, &quot;20142018_064_0002_0002&quot;, &quot;20142018_115_0002_0002&quot;, &quot;201420…</span></span>
<span id="cb170-12"><a href="scaling.html#cb170-12" tabindex="-1"></a><span class="co">#&gt; $ text       &lt;chr&gt; &quot;vona gábor jobbik tisztelt elnök úr tisztelt országgyűlés a tegnapi napon helyen tartottak időközi önkormányza…</span></span>
<span id="cb170-13"><a href="scaling.html#cb170-13" tabindex="-1"></a><span class="co">#&gt; $ felszolalo &lt;chr&gt; &quot;Vona Gábor (Jobbik)&quot;, &quot;Dr. Schiffer András (LMP)&quot;, &quot;Dr. Szél Bernadett (LMP)&quot;, &quot;Tóbiás József (MSZP)&quot;, &quot;Schmuc…</span></span>
<span id="cb170-14"><a href="scaling.html#cb170-14" tabindex="-1"></a><span class="co">#&gt; $ part       &lt;chr&gt; &quot;Jobbik&quot;, &quot;LMP&quot;, &quot;LMP&quot;, &quot;MSZP&quot;, &quot;LMP&quot;, &quot;MSZP&quot;, &quot;Jobbik&quot;, &quot;Fidesz&quot;, &quot;KDNP&quot;, &quot;Fidesz&quot;</span></span></code></pre></div>
<p>A wordfish és wordscores algoritmus is ugyanazt a kiinduló korpuszt és dfm objektumot használja, amit a szokásos módon a <code>quanteda</code> csomag <code>corpus()</code> függvényével hozunk létre.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="scaling.html#cb171-1" tabindex="-1"></a>beszedek_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(beszedek_tiszta)</span>
<span id="cb171-2"><a href="scaling.html#cb171-2" tabindex="-1"></a></span>
<span id="cb171-3"><a href="scaling.html#cb171-3" tabindex="-1"></a><span class="fu">summary</span>(beszedek_corpus)</span>
<span id="cb171-4"><a href="scaling.html#cb171-4" tabindex="-1"></a><span class="co">#&gt; Corpus consisting of 10 documents, showing 10 documents:</span></span>
<span id="cb171-5"><a href="scaling.html#cb171-5" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb171-6"><a href="scaling.html#cb171-6" tabindex="-1"></a><span class="co">#&gt;    Text Types Tokens Sentences                     id                  felszolalo   part</span></span>
<span id="cb171-7"><a href="scaling.html#cb171-7" tabindex="-1"></a><span class="co">#&gt;   text1   442    819         1 20142018_024_0002_0002         Vona Gábor (Jobbik) Jobbik</span></span>
<span id="cb171-8"><a href="scaling.html#cb171-8" tabindex="-1"></a><span class="co">#&gt;   text2   354    607         1 20142018_055_0002_0002   Dr. Schiffer András (LMP)    LMP</span></span>
<span id="cb171-9"><a href="scaling.html#cb171-9" tabindex="-1"></a><span class="co">#&gt;   text3   426    736         1 20142018_064_0002_0002    Dr. Szél Bernadett (LMP)    LMP</span></span>
<span id="cb171-10"><a href="scaling.html#cb171-10" tabindex="-1"></a><span class="co">#&gt;   text4   314    538         1 20142018_115_0002_0002        Tóbiás József (MSZP)   MSZP</span></span>
<span id="cb171-11"><a href="scaling.html#cb171-11" tabindex="-1"></a><span class="co">#&gt;   text5   354    589         1 20142018_158_0002_0002      Schmuck Erzsébet (LMP)    LMP</span></span>
<span id="cb171-12"><a href="scaling.html#cb171-12" tabindex="-1"></a><span class="co">#&gt;   text6   333    538         1 20142018_172_0002_0002    Dr. Tóth Bertalan (MSZP)   MSZP</span></span>
<span id="cb171-13"><a href="scaling.html#cb171-13" tabindex="-1"></a><span class="co">#&gt;   text7   344    559         1 20142018_206_0002_0002       Volner János (Jobbik) Jobbik</span></span>
<span id="cb171-14"><a href="scaling.html#cb171-14" tabindex="-1"></a><span class="co">#&gt;   text8   352    628         1 20142018_212_0002_0002         Kósa Lajos (Fidesz) Fidesz</span></span>
<span id="cb171-15"><a href="scaling.html#cb171-15" tabindex="-1"></a><span class="co">#&gt;   text9   317    492         1 20142018_236_0002_0002        Harrach Péter (KDNP)   KDNP</span></span>
<span id="cb171-16"><a href="scaling.html#cb171-16" tabindex="-1"></a><span class="co">#&gt;  text10   343    600         1 20142018_249_0002_0002 Dr. Gulyás Gergely (Fidesz) Fidesz</span></span></code></pre></div>
<p>A leíró statisztikai táblázatban látszik, hogy a beszédek hosszúsága nem egységes, a leghosszabb 819, a legrövidebb pedig 492 szavas. Az átlagos dokumentum hossz az 611 szó. A korpusz szemléltető célú, alaposabb elemzéshez hosszabb és/vagy több dokumentummal érdemes dolgoznunk.</p>
<p>A korpusz létrehozása után elkészítjük a dfm mátrixot, amelyből eltávolítjuk a magyar stopszvakat a <code>HunMineR</code> beépített szótára segítségével.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="scaling.html#cb172-1" tabindex="-1"></a>stopszavak <span class="ot">&lt;-</span> HunMineR<span class="sc">::</span>data_stopwords_extra</span>
<span id="cb172-2"><a href="scaling.html#cb172-2" tabindex="-1"></a></span>
<span id="cb172-3"><a href="scaling.html#cb172-3" tabindex="-1"></a>beszedek_dfm <span class="ot">&lt;-</span> beszedek_corpus <span class="sc">%&gt;%</span> </span>
<span id="cb172-4"><a href="scaling.html#cb172-4" tabindex="-1"></a>  <span class="fu">tokens</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb172-5"><a href="scaling.html#cb172-5" tabindex="-1"></a>  <span class="fu">tokens_remove</span>(stopszavak) <span class="sc">%&gt;%</span> </span>
<span id="cb172-6"><a href="scaling.html#cb172-6" tabindex="-1"></a>  <span class="fu">dfm</span>()</span></code></pre></div>
</div>
<div id="wordfish" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Wordfish<a href="scaling.html#wordfish" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A wordfish felügyelet nélküli skálázást a <code>quanteda.textmodels</code> csomagban implementált <code>textmodel_wordfish()</code> függvény fogja végezni. A megadott <code>dir = c(2, 1)</code> paraméterrel a két dokumentum relatív <span class="math inline">\(\theta\)</span> értékét tudjuk rögzíteni, mégpedig úgy hogy <span class="math inline">\(\theta_{dir1} &lt; \theta_{dir2}\)</span>. Alapbeállításként az algoritmus az első és az utolsó dokumentumot teszi be ide. A lenti példánál mi a pártpozíciók alapján a Jobbikos Vona Gábor és az LMP-s Schiffer András egy-egy beszédét használtuk. A <code>summary()</code> használható az illesztett modellel, és a dokumentumonkénti <span class="math inline">\(\theta\)</span> koefficienst tudjuk így megnézni.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="scaling.html#cb173-1" tabindex="-1"></a>beszedek_wf <span class="ot">&lt;-</span> quanteda.textmodels<span class="sc">::</span><span class="fu">textmodel_wordfish</span>(beszedek_dfm, <span class="at">dir =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>))</span>
<span id="cb173-2"><a href="scaling.html#cb173-2" tabindex="-1"></a></span>
<span id="cb173-3"><a href="scaling.html#cb173-3" tabindex="-1"></a><span class="fu">summary</span>(beszedek_wf)</span>
<span id="cb173-4"><a href="scaling.html#cb173-4" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb173-5"><a href="scaling.html#cb173-5" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb173-6"><a href="scaling.html#cb173-6" tabindex="-1"></a><span class="co">#&gt; textmodel_wordfish.dfm(x = beszedek_dfm, dir = c(2, 1))</span></span>
<span id="cb173-7"><a href="scaling.html#cb173-7" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb173-8"><a href="scaling.html#cb173-8" tabindex="-1"></a><span class="co">#&gt; Estimated Document Positions:</span></span>
<span id="cb173-9"><a href="scaling.html#cb173-9" tabindex="-1"></a><span class="co">#&gt;          theta     se</span></span>
<span id="cb173-10"><a href="scaling.html#cb173-10" tabindex="-1"></a><span class="co">#&gt; text1  -0.3336 0.0334</span></span>
<span id="cb173-11"><a href="scaling.html#cb173-11" tabindex="-1"></a><span class="co">#&gt; text2  -1.8334 0.0518</span></span>
<span id="cb173-12"><a href="scaling.html#cb173-12" tabindex="-1"></a><span class="co">#&gt; text3  -0.9245 0.0356</span></span>
<span id="cb173-13"><a href="scaling.html#cb173-13" tabindex="-1"></a><span class="co">#&gt; text4   0.0332 0.0390</span></span>
<span id="cb173-14"><a href="scaling.html#cb173-14" tabindex="-1"></a><span class="co">#&gt; text5  -0.7420 0.0386</span></span>
<span id="cb173-15"><a href="scaling.html#cb173-15" tabindex="-1"></a><span class="co">#&gt; text6   0.6071 0.0373</span></span>
<span id="cb173-16"><a href="scaling.html#cb173-16" tabindex="-1"></a><span class="co">#&gt; text7   0.7474 0.0364</span></span>
<span id="cb173-17"><a href="scaling.html#cb173-17" tabindex="-1"></a><span class="co">#&gt; text8   0.1139 0.0351</span></span>
<span id="cb173-18"><a href="scaling.html#cb173-18" tabindex="-1"></a><span class="co">#&gt; text9   0.6854 0.0405</span></span>
<span id="cb173-19"><a href="scaling.html#cb173-19" tabindex="-1"></a><span class="co">#&gt; text10  1.6465 0.0426</span></span>
<span id="cb173-20"><a href="scaling.html#cb173-20" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb173-21"><a href="scaling.html#cb173-21" tabindex="-1"></a><span class="co">#&gt; Estimated Feature Scores:</span></span>
<span id="cb173-22"><a href="scaling.html#cb173-22" tabindex="-1"></a><span class="co">#&gt;        vona  gábor jobbik tisztelt   elnök országgyűlés tegnapi  napon helyen tartottak időközi önkormányzati választásokat</span></span>
<span id="cb173-23"><a href="scaling.html#cb173-23" tabindex="-1"></a><span class="co">#&gt; beta -0.961  0.201  0.292   -0.268 -0.0345       -0.837   -1.11 -0.257 -0.882    -0.961  -0.961        -0.961        -0.961</span></span>
<span id="cb173-24"><a href="scaling.html#cb173-24" tabindex="-1"></a><span class="co">#&gt; psi  -2.877 -2.106 -0.413    0.263 -0.2174       -0.770   -2.22 -1.682 -1.249    -2.877  -2.877        -2.877        -2.877</span></span>
<span id="cb173-25"><a href="scaling.html#cb173-25" tabindex="-1"></a><span class="co">#&gt;      érdekelt recsken ózdon október nyertünk örömmel közlöm ország közvéleményével  amúgy tudnak mindkét jobbikos polgármester</span></span>
<span id="cb173-26"><a href="scaling.html#cb173-26" tabindex="-1"></a><span class="co">#&gt; beta   -0.961   -1.11 -1.16   -0.50   -0.961  -0.961 -0.961 -2.205          -0.961 -0.961 -0.404  -0.961   -0.961       -0.961</span></span>
<span id="cb173-27"><a href="scaling.html#cb173-27" tabindex="-1"></a><span class="co">#&gt; psi    -2.877   -2.22 -1.84   -1.41   -2.877  -2.877 -2.877 -0.785          -2.877 -2.877 -1.690  -2.877   -2.877       -2.877</span></span>
<span id="cb173-28"><a href="scaling.html#cb173-28" tabindex="-1"></a><span class="co">#&gt;      maradt tisztségében nemhogy</span></span>
<span id="cb173-29"><a href="scaling.html#cb173-29" tabindex="-1"></a><span class="co">#&gt; beta -0.961       -0.961   -1.89</span></span>
<span id="cb173-30"><a href="scaling.html#cb173-30" tabindex="-1"></a><span class="co">#&gt; psi  -2.877       -2.877   -2.54</span></span></code></pre></div>
<p>Amennyiben szeretnénk a szavak szintjén is megnézni a <span class="math inline">\(\beta\)</span> (a szavakhoz társított súly, ami a relatív fontosságát mutatja) és <span class="math inline">\(\psi\)</span> (a szó rögzített hatást (<em>word fixed effects</em>), ami az eltérő szófrekvencia kezeléséért felelős) koefficienseket, akkor a <code>beszedek_wf</code> objektumban tárolt értékeket egy data frame-be tudjuk bemásolni. A dokumentumok hosszát és a szófrekvenciát figyelembe véve, a negatív <span class="math inline">\(\beta\)</span> értékű szavakat gyakrabban használják a negatív <span class="math inline">\(\theta\)</span> koefficienssel rendelkező politikusok.</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="scaling.html#cb174-1" tabindex="-1"></a>szavak_wf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb174-2"><a href="scaling.html#cb174-2" tabindex="-1"></a>  <span class="at">word =</span> beszedek_wf<span class="sc">$</span>features, </span>
<span id="cb174-3"><a href="scaling.html#cb174-3" tabindex="-1"></a>  <span class="at">beta =</span> beszedek_wf<span class="sc">$</span>beta, </span>
<span id="cb174-4"><a href="scaling.html#cb174-4" tabindex="-1"></a>  <span class="at">psi =</span> beszedek_wf<span class="sc">$</span>psi</span>
<span id="cb174-5"><a href="scaling.html#cb174-5" tabindex="-1"></a>  )</span>
<span id="cb174-6"><a href="scaling.html#cb174-6" tabindex="-1"></a></span>
<span id="cb174-7"><a href="scaling.html#cb174-7" tabindex="-1"></a>szavak_wf <span class="sc">%&gt;%</span> </span>
<span id="cb174-8"><a href="scaling.html#cb174-8" tabindex="-1"></a>  <span class="fu">arrange</span>(beta) <span class="sc">%&gt;%</span> </span>
<span id="cb174-9"><a href="scaling.html#cb174-9" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">15</span>)</span>
<span id="cb174-10"><a href="scaling.html#cb174-10" tabindex="-1"></a><span class="co">#&gt;             word  beta   psi</span></span>
<span id="cb174-11"><a href="scaling.html#cb174-11" tabindex="-1"></a><span class="co">#&gt; 1       függőség -5.93 -6.41</span></span>
<span id="cb174-12"><a href="scaling.html#cb174-12" tabindex="-1"></a><span class="co">#&gt; 2           paks -5.44 -6.11</span></span>
<span id="cb174-13"><a href="scaling.html#cb174-13" tabindex="-1"></a><span class="co">#&gt; 3          árnak -5.44 -6.11</span></span>
<span id="cb174-14"><a href="scaling.html#cb174-14" tabindex="-1"></a><span class="co">#&gt; 4     biztonsági -5.44 -6.11</span></span>
<span id="cb174-15"><a href="scaling.html#cb174-15" tabindex="-1"></a><span class="co">#&gt; 5      brüsszeli -5.04 -5.88</span></span>
<span id="cb174-16"><a href="scaling.html#cb174-16" tabindex="-1"></a><span class="co">#&gt; 6        helyzet -5.04 -5.88</span></span>
<span id="cb174-17"><a href="scaling.html#cb174-17" tabindex="-1"></a><span class="co">#&gt; 7           alsó -5.04 -5.88</span></span>
<span id="cb174-18"><a href="scaling.html#cb174-18" tabindex="-1"></a><span class="co">#&gt; 8         hangon -5.04 -5.88</span></span>
<span id="cb174-19"><a href="scaling.html#cb174-19" tabindex="-1"></a><span class="co">#&gt; 9           áram -5.04 -5.88</span></span>
<span id="cb174-20"><a href="scaling.html#cb174-20" tabindex="-1"></a><span class="co">#&gt; 10           ára -5.04 -5.88</span></span>
<span id="cb174-21"><a href="scaling.html#cb174-21" tabindex="-1"></a><span class="co">#&gt; 11 feltételezzük -5.04 -5.88</span></span>
<span id="cb174-22"><a href="scaling.html#cb174-22" tabindex="-1"></a><span class="co">#&gt; 12            ár -5.04 -5.88</span></span>
<span id="cb174-23"><a href="scaling.html#cb174-23" tabindex="-1"></a><span class="co">#&gt; 13         extra -5.04 -5.88</span></span>
<span id="cb174-24"><a href="scaling.html#cb174-24" tabindex="-1"></a><span class="co">#&gt; 14     tervezett -5.04 -5.88</span></span>
<span id="cb174-25"><a href="scaling.html#cb174-25" tabindex="-1"></a><span class="co">#&gt; 15     veszélybe -5.04 -5.88</span></span></code></pre></div>
<p>Ez a pozitív értékekre is igaz.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="scaling.html#cb175-1" tabindex="-1"></a>szavak_wf <span class="sc">%&gt;%</span> </span>
<span id="cb175-2"><a href="scaling.html#cb175-2" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(beta)) <span class="sc">%&gt;%</span> </span>
<span id="cb175-3"><a href="scaling.html#cb175-3" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">15</span>)</span>
<span id="cb175-4"><a href="scaling.html#cb175-4" tabindex="-1"></a><span class="co">#&gt;              word beta   psi</span></span>
<span id="cb175-5"><a href="scaling.html#cb175-5" tabindex="-1"></a><span class="co">#&gt; 1        czeglédy 6.21 -6.21</span></span>
<span id="cb175-6"><a href="scaling.html#cb175-6" tabindex="-1"></a><span class="co">#&gt; 2           csaba 6.08 -6.14</span></span>
<span id="cb175-7"><a href="scaling.html#cb175-7" tabindex="-1"></a><span class="co">#&gt; 3           human 5.76 -5.99</span></span>
<span id="cb175-8"><a href="scaling.html#cb175-8" tabindex="-1"></a><span class="co">#&gt; 4        operator 5.76 -5.99</span></span>
<span id="cb175-9"><a href="scaling.html#cb175-9" tabindex="-1"></a><span class="co">#&gt; 5             zrt 5.54 -5.89</span></span>
<span id="cb175-10"><a href="scaling.html#cb175-10" tabindex="-1"></a><span class="co">#&gt; 6         fizette 5.26 -5.76</span></span>
<span id="cb175-11"><a href="scaling.html#cb175-11" tabindex="-1"></a><span class="co">#&gt; 7           gyanú 5.26 -5.76</span></span>
<span id="cb175-12"><a href="scaling.html#cb175-12" tabindex="-1"></a><span class="co">#&gt; 8     szocialista 5.26 -5.76</span></span>
<span id="cb175-13"><a href="scaling.html#cb175-13" tabindex="-1"></a><span class="co">#&gt; 9      elkövetett 4.85 -5.58</span></span>
<span id="cb175-14"><a href="scaling.html#cb175-14" tabindex="-1"></a><span class="co">#&gt; 10         tárgya 4.85 -5.58</span></span>
<span id="cb175-15"><a href="scaling.html#cb175-15" tabindex="-1"></a><span class="co">#&gt; 11     céghálózat 4.85 -5.58</span></span>
<span id="cb175-16"><a href="scaling.html#cb175-16" tabindex="-1"></a><span class="co">#&gt; 12         diákok 4.85 -5.58</span></span>
<span id="cb175-17"><a href="scaling.html#cb175-17" tabindex="-1"></a><span class="co">#&gt; 13         májusi 4.85 -5.58</span></span>
<span id="cb175-18"><a href="scaling.html#cb175-18" tabindex="-1"></a><span class="co">#&gt; 14        júniusi 4.85 -5.58</span></span>
<span id="cb175-19"><a href="scaling.html#cb175-19" tabindex="-1"></a><span class="co">#&gt; 15 büntetőeljárás 4.85 -5.58</span></span></code></pre></div>
<p>Az eredményeinket mind a szavak, mind a dokumentumok szintjén tudjuk vizualizálni. Elsőként a klasszikus „Eiffel-torony” ábrát reprodukáljuk, ami a szavak gyakoriságának és a skálára gyakorolt befolyásának az illusztrálására szolgál. Ehhez a már elkészült <code>szavak_wf</code> data framet-et és a <code>ggplot2</code> csomagot fogjuk használni. Mivel a korpuszunk nagyon kicsi, ezért csak 2273 kifejezést fogunk ábrázolni. Ennek ellenére a lényeg kirajzolódik a lenti ábrán is.<a href="#fn48" class="footnote-ref" id="fnref48"><sup>48</sup></a></p>
<p>A dokumentumok szintjén is érdemes megvizsgálni az eredményeket. Ehhez a dokumentum szintű paramétereket fogjuk egy data frame-be gyűjteni: a <span class="math inline">\(\theta\)</span> ideológiai pozíciót, illetve a beszélő nevét. A vizualizáció kedvéért a párttagságot is hozzáadjuk. A data frame összerakása után az alsó és a felső határát is kiszámoljuk a konfidencia intervallumnak és azt is ábrázoljuk (ld. <a href="scaling.html#fig:eiffel">9.1</a>. ábra).</p>
<p>Kihasználhatjuk, hogy a <code>ggplot</code> ábra definiálása közben a felhasznált bemeneti data frame-et különböző szempontok alapján lehet szűrni. Így ábrázolni tudjuk a gyakran használt, ám semleges szavakat (magas <span class="math inline">\(\psi\)</span>, alacsony <span class="math inline">\(\beta\)</span>), illetve a ritkább, de meghatározóbb szavakat (magas <span class="math inline">\(\beta\)</span>, alacsony <span class="math inline">\(\psi\)</span>).</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="scaling.html#cb176-1" tabindex="-1"></a><span class="fu">ggplot</span>(szavak_wf, <span class="fu">aes</span>(<span class="at">x =</span> beta, <span class="at">y =</span> psi)) <span class="sc">+</span></span>
<span id="cb176-2"><a href="scaling.html#cb176-2" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;grey&quot;</span>) <span class="sc">+</span></span>
<span id="cb176-3"><a href="scaling.html#cb176-3" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(</span>
<span id="cb176-4"><a href="scaling.html#cb176-4" tabindex="-1"></a>    <span class="at">data =</span> <span class="fu">filter</span>(szavak_wf, beta <span class="sc">&gt;</span> <span class="fl">4.5</span> <span class="sc">|</span> beta <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">5</span> <span class="sc">|</span> psi <span class="sc">&gt;</span> <span class="dv">0</span>),</span>
<span id="cb176-5"><a href="scaling.html#cb176-5" tabindex="-1"></a>    <span class="fu">aes</span>(beta, psi, <span class="at">label =</span> word),</span>
<span id="cb176-6"><a href="scaling.html#cb176-6" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.7</span></span>
<span id="cb176-7"><a href="scaling.html#cb176-7" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb176-8"><a href="scaling.html#cb176-8" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb176-9"><a href="scaling.html#cb176-9" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">expression</span>(beta),</span>
<span id="cb176-10"><a href="scaling.html#cb176-10" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">expression</span>(psi)</span>
<span id="cb176-11"><a href="scaling.html#cb176-11" tabindex="-1"></a>    )  </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:eiffel"></span>
<p class="caption">
Ábra 9.1: A wordfish ‘Eiffel-torony’
</p>
<img src="_main_files/figure-html/eiffel-1.png" alt="A wordfish 'Eiffel-torony'" width="90%" />
</div>
<p>Az így kapott ábrán az egyes pontok mind egy szót reprezentálnak, láthatjuk, hogy tipikusan minél magasabb a <span class="math inline">\(\psi\)</span> értékük annál inkább középen helyezkednek el hiszen a leggyakoribb szavak azok, amelyeket mindenki használ politikai spektrumon való elhelyezkedésüktől függetlenül. Az ábra két szélén lévő szavak azok, amelyek specifikusan a skála egy-egy végpontjához kötődnek. Jelen esetben ezek kevésbé beszédések, mivel a korpusz kifejezetten kis méretű és láthatóan további stopszavazás is szükséges.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="scaling.html#cb177-1" tabindex="-1"></a>dokumentumok_wf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb177-2"><a href="scaling.html#cb177-2" tabindex="-1"></a>  <span class="at">speaker =</span> beszedek_wf<span class="sc">$</span>x<span class="sc">@</span>docvars<span class="sc">$</span>felszolalo,</span>
<span id="cb177-3"><a href="scaling.html#cb177-3" tabindex="-1"></a>  <span class="at">part =</span> beszedek_wf<span class="sc">$</span>x<span class="sc">@</span>docvars<span class="sc">$</span>part,</span>
<span id="cb177-4"><a href="scaling.html#cb177-4" tabindex="-1"></a>  <span class="at">theta =</span> beszedek_wf<span class="sc">$</span>theta,</span>
<span id="cb177-5"><a href="scaling.html#cb177-5" tabindex="-1"></a>  <span class="at">theta_se =</span> beszedek_wf<span class="sc">$</span>se.theta</span>
<span id="cb177-6"><a href="scaling.html#cb177-6" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb177-7"><a href="scaling.html#cb177-7" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb177-8"><a href="scaling.html#cb177-8" tabindex="-1"></a>    <span class="at">lower =</span> theta <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> theta_se,</span>
<span id="cb177-9"><a href="scaling.html#cb177-9" tabindex="-1"></a>    <span class="at">upper =</span> theta <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> theta_se</span>
<span id="cb177-10"><a href="scaling.html#cb177-10" tabindex="-1"></a>  )</span>
<span id="cb177-11"><a href="scaling.html#cb177-11" tabindex="-1"></a></span>
<span id="cb177-12"><a href="scaling.html#cb177-12" tabindex="-1"></a><span class="fu">ggplot</span>(dokumentumok_wf, <span class="fu">aes</span>(theta, <span class="fu">reorder</span>(speaker, theta))) <span class="sc">+</span></span>
<span id="cb177-13"><a href="scaling.html#cb177-13" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb177-14"><a href="scaling.html#cb177-14" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower, <span class="at">xmax =</span> upper), <span class="at">height =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb177-15"><a href="scaling.html#cb177-15" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb177-16"><a href="scaling.html#cb177-16" tabindex="-1"></a>    <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb177-17"><a href="scaling.html#cb177-17" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">expression</span>(theta)</span>
<span id="cb177-18"><a href="scaling.html#cb177-18" tabindex="-1"></a>  ) </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:pozicio"></span>
<p class="caption">
Ábra 9.2: A beszédek egymáshoz viszonyított pozíciója
</p>
<img src="_main_files/figure-html/pozicio-1.png" alt="A beszédek egymáshoz viszonyított pozíciója" width="90%" />
</div>
<p>A párt metaadattal összehasonlíthatjuk az egy párthoz tartozó frakcióvezetők értékeit a <code>facet_wrap()</code> használatával. Figyeljünk arra, hogy az <code>y</code> tengelyen szabadon változhasson az egyes rész ábrák között, a <code>scales = "free"</code> opcióval (ld. <a href="scaling.html#fig:pozicio">9.2</a>. ábra).</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="scaling.html#cb178-1" tabindex="-1"></a>speech_df <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dokumentumok_wf, <span class="fu">aes</span>(theta, <span class="fu">reorder</span>(speaker, theta))) <span class="sc">+</span></span>
<span id="cb178-2"><a href="scaling.html#cb178-2" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb178-3"><a href="scaling.html#cb178-3" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower, <span class="at">xmax =</span> upper), <span class="at">height =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb178-4"><a href="scaling.html#cb178-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb178-5"><a href="scaling.html#cb178-5" tabindex="-1"></a>    <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb178-6"><a href="scaling.html#cb178-6" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;theta&quot;</span></span>
<span id="cb178-7"><a href="scaling.html#cb178-7" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb178-8"><a href="scaling.html#cb178-8" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>part, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>) </span>
<span id="cb178-9"><a href="scaling.html#cb178-9" tabindex="-1"></a></span>
<span id="cb178-10"><a href="scaling.html#cb178-10" tabindex="-1"></a><span class="fu">ggplotly</span>(speech_df, <span class="at">height =</span> <span class="dv">1000</span>, <span class="at">tooltip =</span> <span class="st">&quot;theta&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:partbanpoz"></span>
<div id="htmlwidget-4aa3ebedfbfc52d82635" style="width:90%;height:1000px;" class="plotly html-widget "></div>
<script type="application/json" data-for="htmlwidget-4aa3ebedfbfc52d82635">{"x":{"data":[{"x":[0.11386341138881331,1.6465209724418253],"y":[1,2],"text":["theta:  0.1139","theta:  1.6465"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[0.068771597015248903,0.083432182364290286],"arrayminus":[0.068771597015248903,0.083432182364290286],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"frame":null},{"x":[-0.33363223323496377,0.74740795431240981],"y":[1,2],"text":["theta: -0.3336","theta:  0.7474"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[0.065536975553245946,0.071256032540521042],"arrayminus":[0.065536975553245946,0.071256032540521042],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"frame":null},{"x":[0.68542409347367006],"y":[1],"text":"theta:  0.6854","type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[0.079294129355787946],"arrayminus":[0.079294129355787946],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"frame":null},{"x":[-1.8333760931124514,-0.9245318213920537,-0.74197060712660545],"y":[1,2,3],"text":["theta: -1.8334","theta: -0.9245","theta: -0.7420"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[0.033151755630231754,0.60714256761912422],"y":[1,2],"text":["theta:  0.0332","theta:  0.6071"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[0.076382669463101516,0.073058275957498142],"arrayminus":[0.07638266946310153,0.073058275957498142],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"frame":null},{"x":[-1.8333760931124514,-0.74197060712660545,-0.9245318213920537],"y":[1,3,2],"text":["theta: -1.8334","theta: -0.7420","theta: -0.9245"],"type":"scatter","mode":"lines","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[0.10150474923671737,0.075671466763469475,0.06975635948660841],"arrayminus":[0.10150474923671737,0.075671466763469475,0.06975635948660841],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":58.374429223744301,"r":7.3059360730593621,"b":60.639269406392714,"l":168.76712328767127},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.1181225422069332,1.9131948546638797],"tickmode":"array","ticktext":["-2","-1","0","1"],"tickvals":[-2,-1,0,1],"categoryorder":"array","categoryarray":["-2","-1","0","1"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"y5","title":"","hoverformat":".2f"},"annotations":[{"text":"theta","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.917808219178088},{"text":"Fidesz","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Jobbik","x":0.5,"y":0.78575342465753428,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"KDNP","x":0.5,"y":0.58575342465753422,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"LMP","x":0.5,"y":0.38575342465753415,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"MSZP","x":0.5,"y":0.18575342465753419,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0.81424657534246581,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["Kósa Lajos (Fidesz)","Dr. Gulyás Gergely (Fidesz)"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["Kósa Lajos (Fidesz)","Dr. Gulyás Gergely (Fidesz)"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.81424657534246581,"y1":1},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.61424657534246574,"y1":0.78575342465753428},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.78575342465753428,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.41424657534246567,"y1":0.58575342465753422},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.58575342465753422,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.21424657534246572,"y1":0.38575342465753415},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.38575342465753415,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":0.18575342465753419},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.18575342465753419,"ysizemode":"pixel"}],"yaxis2":{"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["Vona Gábor (Jobbik)","Volner János (Jobbik)"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["Vona Gábor (Jobbik)","Volner János (Jobbik)"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.61424657534246574,0.78575342465753428],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[0.40000000000000002,1.6000000000000001],"tickmode":"array","ticktext":["Harrach Péter (KDNP)"],"tickvals":[1],"categoryorder":"array","categoryarray":["Harrach Péter (KDNP)"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.41424657534246567,0.58575342465753422],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[0.40000000000000002,3.6000000000000001],"tickmode":"array","ticktext":["Dr. Schiffer András (LMP)","Dr. Szél Bernadett (LMP)","Schmuck Erzsébet (LMP)"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["Dr. Schiffer András (LMP)","Dr. Szél Bernadett (LMP)","Schmuck Erzsébet (LMP)"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.21424657534246572,0.38575342465753415],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis5":{"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["Tóbiás József (MSZP)","Dr. Tóth Bertalan (MSZP)"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["Tóbiás József (MSZP)","Dr. Tóth Bertalan (MSZP)"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.18575342465753419],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","height":1000,"barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2d786c6a711a":{"x":{},"y":{},"type":"scatter"},"2d7827af2430":{"x":{},"y":{},"xmin":{},"xmax":{}}},"cur_data":"2d786c6a711a","visdat":{"2d786c6a711a":["function (y) ","x"],"2d7827af2430":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Ábra 9.3: Párton belüli pozíciók
</p>
</div>
</div>
<div id="wordscores" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Wordscores<a href="scaling.html#wordscores" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A modell illesztést a wordfish-hez hasonlóan a <code>quanteda.textmodels</code> csomagban található <code>textmodel_wordscores()</code> függvény végzi. A kiinduló dfm ugyanaz, mint amit a fejezet elején elkészítettünk, a <code>beszedek_dfm</code>.</p>
<p>A referencia pontokat dokumentumváltozóként hozzáadjuk a dfm-hez (a <code>refrencia_pont</code> oszlopot, ami <code>NA</code> értéket kap alapértelmezetten). A kiválasztott referencia dokumentumoknál pedig egyenként hozzáadjuk az értékeket. Erre több megoldás is van, az egyszerűbb út, hogy az egyik és a másik végletet a <code>-1; 1</code> intervallummal jelöljük. Ennek a lehetséges alternatívája, hogy egy külső, már validált forrást használunk. Pártok esetén ilyen lehet a Chapel Hill szakértői kérdőívének a pontszámai, a Manifesto projekt által kódolt jobb-bal (<em>rile</em>) dimenzió. A lenti példánál mi maradunk az egyszerűbb bináris kódolásnál (ld. <a href="scaling.html#fig:partbanpoz">9.3</a>. ábra). A wordfish eredményt alapul véve a két referencia pont Gulyás Gergely és Szél Bernadett beszédei lesznek.<a href="#fn49" class="footnote-ref" id="fnref49"><sup>49</sup></a> Ezek a 3. és a 10. dokumentumok. Miután a referencia pontokat hozzárendeltünk az adattáblához szintén a <code>docvars</code> funkcióval meg is tekinthetjük azt és láthatjuk, hogy a referenci_pont már a metaadatok között szerepel.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="scaling.html#cb179-1" tabindex="-1"></a><span class="fu">docvars</span>(beszedek_dfm, <span class="st">&quot;referencia_pont&quot;</span>) <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb179-2"><a href="scaling.html#cb179-2" tabindex="-1"></a><span class="fu">docvars</span>(beszedek_dfm, <span class="st">&quot;referencia_pont&quot;</span>)[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb179-3"><a href="scaling.html#cb179-3" tabindex="-1"></a><span class="fu">docvars</span>(beszedek_dfm, <span class="st">&quot;referencia_pont&quot;</span>)[<span class="dv">10</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb179-4"><a href="scaling.html#cb179-4" tabindex="-1"></a></span>
<span id="cb179-5"><a href="scaling.html#cb179-5" tabindex="-1"></a><span class="fu">docvars</span>(beszedek_dfm)</span>
<span id="cb179-6"><a href="scaling.html#cb179-6" tabindex="-1"></a><span class="co">#&gt;                        id                  felszolalo   part referencia_pont</span></span>
<span id="cb179-7"><a href="scaling.html#cb179-7" tabindex="-1"></a><span class="co">#&gt; 1  20142018_024_0002_0002         Vona Gábor (Jobbik) Jobbik              NA</span></span>
<span id="cb179-8"><a href="scaling.html#cb179-8" tabindex="-1"></a><span class="co">#&gt; 2  20142018_055_0002_0002   Dr. Schiffer András (LMP)    LMP              NA</span></span>
<span id="cb179-9"><a href="scaling.html#cb179-9" tabindex="-1"></a><span class="co">#&gt; 3  20142018_064_0002_0002    Dr. Szél Bernadett (LMP)    LMP              -1</span></span>
<span id="cb179-10"><a href="scaling.html#cb179-10" tabindex="-1"></a><span class="co">#&gt; 4  20142018_115_0002_0002        Tóbiás József (MSZP)   MSZP              NA</span></span>
<span id="cb179-11"><a href="scaling.html#cb179-11" tabindex="-1"></a><span class="co">#&gt; 5  20142018_158_0002_0002      Schmuck Erzsébet (LMP)    LMP              NA</span></span>
<span id="cb179-12"><a href="scaling.html#cb179-12" tabindex="-1"></a><span class="co">#&gt; 6  20142018_172_0002_0002    Dr. Tóth Bertalan (MSZP)   MSZP              NA</span></span>
<span id="cb179-13"><a href="scaling.html#cb179-13" tabindex="-1"></a><span class="co">#&gt; 7  20142018_206_0002_0002       Volner János (Jobbik) Jobbik              NA</span></span>
<span id="cb179-14"><a href="scaling.html#cb179-14" tabindex="-1"></a><span class="co">#&gt; 8  20142018_212_0002_0002         Kósa Lajos (Fidesz) Fidesz              NA</span></span>
<span id="cb179-15"><a href="scaling.html#cb179-15" tabindex="-1"></a><span class="co">#&gt; 9  20142018_236_0002_0002        Harrach Péter (KDNP)   KDNP              NA</span></span>
<span id="cb179-16"><a href="scaling.html#cb179-16" tabindex="-1"></a><span class="co">#&gt; 10 20142018_249_0002_0002 Dr. Gulyás Gergely (Fidesz) Fidesz               1</span></span></code></pre></div>
<p>A lenti wordscores-modell specifikáció követi a <span class="citation">Laver, Benoit, and Garry (<a href="irodalomjegyzék.html#ref-laver2003extracting">2003</a>)</span> tanulmányban leírtakat.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="scaling.html#cb180-1" tabindex="-1"></a>beszedek_ws <span class="ot">&lt;-</span> <span class="fu">textmodel_wordscores</span>(</span>
<span id="cb180-2"><a href="scaling.html#cb180-2" tabindex="-1"></a>  <span class="at">x =</span> beszedek_dfm,</span>
<span id="cb180-3"><a href="scaling.html#cb180-3" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">docvars</span>(beszedek_dfm, <span class="st">&quot;referencia_pont&quot;</span>),</span>
<span id="cb180-4"><a href="scaling.html#cb180-4" tabindex="-1"></a>  <span class="at">scale =</span> <span class="st">&quot;linear&quot;</span>,</span>
<span id="cb180-5"><a href="scaling.html#cb180-5" tabindex="-1"></a>  <span class="at">smooth =</span> <span class="dv">0</span></span>
<span id="cb180-6"><a href="scaling.html#cb180-6" tabindex="-1"></a>  )</span>
<span id="cb180-7"><a href="scaling.html#cb180-7" tabindex="-1"></a></span>
<span id="cb180-8"><a href="scaling.html#cb180-8" tabindex="-1"></a><span class="fu">summary</span>(beszedek_ws, <span class="dv">10</span>)</span>
<span id="cb180-9"><a href="scaling.html#cb180-9" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb180-10"><a href="scaling.html#cb180-10" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb180-11"><a href="scaling.html#cb180-11" tabindex="-1"></a><span class="co">#&gt; textmodel_wordscores.dfm(x = beszedek_dfm, y = docvars(beszedek_dfm, </span></span>
<span id="cb180-12"><a href="scaling.html#cb180-12" tabindex="-1"></a><span class="co">#&gt;     &quot;referencia_pont&quot;), scale = &quot;linear&quot;, smooth = 0)</span></span>
<span id="cb180-13"><a href="scaling.html#cb180-13" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb180-14"><a href="scaling.html#cb180-14" tabindex="-1"></a><span class="co">#&gt; Reference Document Statistics:</span></span>
<span id="cb180-15"><a href="scaling.html#cb180-15" tabindex="-1"></a><span class="co">#&gt;        score total min max  mean median</span></span>
<span id="cb180-16"><a href="scaling.html#cb180-16" tabindex="-1"></a><span class="co">#&gt; text1     NA   411   0   6 0.181      0</span></span>
<span id="cb180-17"><a href="scaling.html#cb180-17" tabindex="-1"></a><span class="co">#&gt; text2     NA   341   0   5 0.150      0</span></span>
<span id="cb180-18"><a href="scaling.html#cb180-18" tabindex="-1"></a><span class="co">#&gt; text3     -1   383   0   6 0.168      0</span></span>
<span id="cb180-19"><a href="scaling.html#cb180-19" tabindex="-1"></a><span class="co">#&gt; text4     NA   289   0   5 0.127      0</span></span>
<span id="cb180-20"><a href="scaling.html#cb180-20" tabindex="-1"></a><span class="co">#&gt; text5     NA   321   0   8 0.141      0</span></span>
<span id="cb180-21"><a href="scaling.html#cb180-21" tabindex="-1"></a><span class="co">#&gt; text6     NA   298   0   5 0.131      0</span></span>
<span id="cb180-22"><a href="scaling.html#cb180-22" tabindex="-1"></a><span class="co">#&gt; text7     NA   307   0   5 0.135      0</span></span>
<span id="cb180-23"><a href="scaling.html#cb180-23" tabindex="-1"></a><span class="co">#&gt; text8     NA   354   0   8 0.156      0</span></span>
<span id="cb180-24"><a href="scaling.html#cb180-24" tabindex="-1"></a><span class="co">#&gt; text9     NA   250   0   3 0.110      0</span></span>
<span id="cb180-25"><a href="scaling.html#cb180-25" tabindex="-1"></a><span class="co">#&gt; text10     1   353   0   8 0.155      0</span></span>
<span id="cb180-26"><a href="scaling.html#cb180-26" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb180-27"><a href="scaling.html#cb180-27" tabindex="-1"></a><span class="co">#&gt; Wordscores:</span></span>
<span id="cb180-28"><a href="scaling.html#cb180-28" tabindex="-1"></a><span class="co">#&gt; (showing first 10 elements)</span></span>
<span id="cb180-29"><a href="scaling.html#cb180-29" tabindex="-1"></a><span class="co">#&gt;      tisztelt         elnök  országgyűlés        ország       nemhogy         tette        fidesz          taps   padsoraiban </span></span>
<span id="cb180-30"><a href="scaling.html#cb180-30" tabindex="-1"></a><span class="co">#&gt;       -0.1027        0.3691        0.0408       -1.0000       -1.0000       -1.0000        1.0000       -1.0000       -1.0000 </span></span>
<span id="cb180-31"><a href="scaling.html#cb180-31" tabindex="-1"></a><span class="co">#&gt; természetesen </span></span>
<span id="cb180-32"><a href="scaling.html#cb180-32" tabindex="-1"></a><span class="co">#&gt;        1.0000</span></span></code></pre></div>
<p>Az illesztett wordscores modellünkkel ezek után már meg tudjuk becsülni a korpuszban lévő többi dokumentum pozícióját. Ehhez a <code>predict()</code> függvény megoldását használjuk. A kiegészítő opciókkal a konfidencia intervallum alsó és felső határát is meg tudjuk becsülni, ami jól jön akkor, ha szeretnénk ábrázolni az eredményt.</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="scaling.html#cb181-1" tabindex="-1"></a>beszedek_ws_pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(</span>
<span id="cb181-2"><a href="scaling.html#cb181-2" tabindex="-1"></a>  beszedek_ws, </span>
<span id="cb181-3"><a href="scaling.html#cb181-3" tabindex="-1"></a>  <span class="at">newdata =</span> beszedek_dfm,</span>
<span id="cb181-4"><a href="scaling.html#cb181-4" tabindex="-1"></a>  <span class="at">interval =</span> <span class="st">&quot;confidence&quot;</span>)</span>
<span id="cb181-5"><a href="scaling.html#cb181-5" tabindex="-1"></a></span>
<span id="cb181-6"><a href="scaling.html#cb181-6" tabindex="-1"></a>beszedek_ws_pred <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(beszedek_ws_pred<span class="sc">$</span>fit)</span>
<span id="cb181-7"><a href="scaling.html#cb181-7" tabindex="-1"></a></span>
<span id="cb181-8"><a href="scaling.html#cb181-8" tabindex="-1"></a>beszedek_ws_pred</span>
<span id="cb181-9"><a href="scaling.html#cb181-9" tabindex="-1"></a><span class="co">#&gt;            fit     lwr     upr</span></span>
<span id="cb181-10"><a href="scaling.html#cb181-10" tabindex="-1"></a><span class="co">#&gt; text1  -0.4585 -0.6883 -0.2287</span></span>
<span id="cb181-11"><a href="scaling.html#cb181-11" tabindex="-1"></a><span class="co">#&gt; text2  -0.2664 -0.4912 -0.0416</span></span>
<span id="cb181-12"><a href="scaling.html#cb181-12" tabindex="-1"></a><span class="co">#&gt; text3  -0.9448 -0.9660 -0.9236</span></span>
<span id="cb181-13"><a href="scaling.html#cb181-13" tabindex="-1"></a><span class="co">#&gt; text4  -0.3741 -0.6106 -0.1375</span></span>
<span id="cb181-14"><a href="scaling.html#cb181-14" tabindex="-1"></a><span class="co">#&gt; text5  -0.3197 -0.5520 -0.0874</span></span>
<span id="cb181-15"><a href="scaling.html#cb181-15" tabindex="-1"></a><span class="co">#&gt; text6  -0.0379 -0.3474  0.2715</span></span>
<span id="cb181-16"><a href="scaling.html#cb181-16" tabindex="-1"></a><span class="co">#&gt; text7   0.2343 -0.0316  0.5002</span></span>
<span id="cb181-17"><a href="scaling.html#cb181-17" tabindex="-1"></a><span class="co">#&gt; text8  -0.0575 -0.3298  0.2149</span></span>
<span id="cb181-18"><a href="scaling.html#cb181-18" tabindex="-1"></a><span class="co">#&gt; text9   0.0627 -0.2399  0.3653</span></span>
<span id="cb181-19"><a href="scaling.html#cb181-19" tabindex="-1"></a><span class="co">#&gt; text10  0.9448  0.9194  0.9703</span></span></code></pre></div>
<p>A kapott modellünket a wordfish-hez hasonlóan tudjuk ábrázolni, miután a <code>beszedek_ws_pred</code> objektumból adattáblát csinálunk és a <code>ggplot2</code>-vel elkészítjük a vizualizációt. A <code>dokumentumok_ws</code> két részből áll össze. Először a wordscores modell objektumunkból a frakcióvezetők neveit és pártjaikat emeljük ki (kicsit körülményes a dolog, mert egy komplexebb objektumban tárolja őket a <code>quanteda</code>, de az <code>str()</code> függvény tud segíteni ilyen esetekben). A dokumentumok becsült pontszámait pedig a <code>beszedek_ws_pred</code> objektumból készített data frame hozzácsatolásával adjuk hozzá a már elkészült data frame-hez. Ehhez a <code>dplyr</code> csomag <code>bind_cols</code> függvényét használjuk. Fontos, hogy itt teljesen biztosnak kell lennünk abban, hogy a sorok a két data frame esetében ugyanarra a dokumentumra vonatkoznak.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="scaling.html#cb182-1" tabindex="-1"></a>dokumentumok_ws <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb182-2"><a href="scaling.html#cb182-2" tabindex="-1"></a>  <span class="at">speaker =</span> beszedek_ws<span class="sc">$</span>x<span class="sc">@</span>docvars<span class="sc">$</span>felszolalo,</span>
<span id="cb182-3"><a href="scaling.html#cb182-3" tabindex="-1"></a>  <span class="at">part =</span> beszedek_ws<span class="sc">$</span>x<span class="sc">@</span>docvars<span class="sc">$</span>part</span>
<span id="cb182-4"><a href="scaling.html#cb182-4" tabindex="-1"></a>)</span>
<span id="cb182-5"><a href="scaling.html#cb182-5" tabindex="-1"></a></span>
<span id="cb182-6"><a href="scaling.html#cb182-6" tabindex="-1"></a>dokumentumok_ws <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(dokumentumok_ws, beszedek_ws_pred)</span>
<span id="cb182-7"><a href="scaling.html#cb182-7" tabindex="-1"></a></span>
<span id="cb182-8"><a href="scaling.html#cb182-8" tabindex="-1"></a>dokumentumok_ws</span>
<span id="cb182-9"><a href="scaling.html#cb182-9" tabindex="-1"></a><span class="co">#&gt;                            speaker   part     fit     lwr     upr</span></span>
<span id="cb182-10"><a href="scaling.html#cb182-10" tabindex="-1"></a><span class="co">#&gt; text1          Vona Gábor (Jobbik) Jobbik -0.4585 -0.6883 -0.2287</span></span>
<span id="cb182-11"><a href="scaling.html#cb182-11" tabindex="-1"></a><span class="co">#&gt; text2    Dr. Schiffer András (LMP)    LMP -0.2664 -0.4912 -0.0416</span></span>
<span id="cb182-12"><a href="scaling.html#cb182-12" tabindex="-1"></a><span class="co">#&gt; text3     Dr. Szél Bernadett (LMP)    LMP -0.9448 -0.9660 -0.9236</span></span>
<span id="cb182-13"><a href="scaling.html#cb182-13" tabindex="-1"></a><span class="co">#&gt; text4         Tóbiás József (MSZP)   MSZP -0.3741 -0.6106 -0.1375</span></span>
<span id="cb182-14"><a href="scaling.html#cb182-14" tabindex="-1"></a><span class="co">#&gt; text5       Schmuck Erzsébet (LMP)    LMP -0.3197 -0.5520 -0.0874</span></span>
<span id="cb182-15"><a href="scaling.html#cb182-15" tabindex="-1"></a><span class="co">#&gt; text6     Dr. Tóth Bertalan (MSZP)   MSZP -0.0379 -0.3474  0.2715</span></span>
<span id="cb182-16"><a href="scaling.html#cb182-16" tabindex="-1"></a><span class="co">#&gt; text7        Volner János (Jobbik) Jobbik  0.2343 -0.0316  0.5002</span></span>
<span id="cb182-17"><a href="scaling.html#cb182-17" tabindex="-1"></a><span class="co">#&gt; text8          Kósa Lajos (Fidesz) Fidesz -0.0575 -0.3298  0.2149</span></span>
<span id="cb182-18"><a href="scaling.html#cb182-18" tabindex="-1"></a><span class="co">#&gt; text9         Harrach Péter (KDNP)   KDNP  0.0627 -0.2399  0.3653</span></span>
<span id="cb182-19"><a href="scaling.html#cb182-19" tabindex="-1"></a><span class="co">#&gt; text10 Dr. Gulyás Gergely (Fidesz) Fidesz  0.9448  0.9194  0.9703</span></span></code></pre></div>
<p>A 9.4-es ábrán a párton belüli bontást illusztráljuk a <code>facet_wrap()</code> segítségével.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="scaling.html#cb183-1" tabindex="-1"></a>party_df <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dokumentumok_ws, <span class="fu">aes</span>(fit, <span class="fu">reorder</span>(speaker, fit))) <span class="sc">+</span></span>
<span id="cb183-2"><a href="scaling.html#cb183-2" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb183-3"><a href="scaling.html#cb183-3" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lwr, <span class="at">xmax =</span> upr), <span class="at">height =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb183-4"><a href="scaling.html#cb183-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb183-5"><a href="scaling.html#cb183-5" tabindex="-1"></a>    <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb183-6"><a href="scaling.html#cb183-6" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;wordscores&quot;</span></span>
<span id="cb183-7"><a href="scaling.html#cb183-7" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb183-8"><a href="scaling.html#cb183-8" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>part, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>)</span>
<span id="cb183-9"><a href="scaling.html#cb183-9" tabindex="-1"></a></span>
<span id="cb183-10"><a href="scaling.html#cb183-10" tabindex="-1"></a><span class="fu">ggplotly</span>(party_df, <span class="at">height =</span> <span class="dv">1000</span>, <span class="at">tooltip =</span> <span class="st">&quot;fit&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-178"></span>
<div id="htmlwidget-471906a988fdd2a34d50" style="width:90%;height:1000px;" class="plotly html-widget "></div>
<script type="application/json" data-for="htmlwidget-471906a988fdd2a34d50">{"x":{"data":[{"x":[-0.057493014108236776,0.94482647837993261],"y":[1,2],"text":["fit: -0.0575","fit:  0.9448"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[0.27235515104996422,0.025449539119526299],"arrayminus":[0.27235515104996422,0.025449539119526299],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"frame":null},{"x":[-0.45849157839454313,0.23426688845315843],"y":[1,2],"text":["fit: -0.4585","fit:  0.2343"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[0.22980634394176863,0.26589971272136215],"arrayminus":[0.22980634394176858,0.2658997127213622],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"frame":null},{"x":[0.062707944356560255],"y":[1],"text":"fit:  0.0627","type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[0.30263412670466217],"arrayminus":[0.30263412670466217],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"frame":null},{"x":[-0.26637679553919003,-0.94482647837993028,-0.31967046066771038],"y":[3,1,2],"text":["fit: -0.2664","fit: -0.9448","fit: -0.3197"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[-0.37405600973539366,-0.037936263929673225],"y":[1,2],"text":["fit: -0.3741","fit: -0.0379"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[0.23657414699186191,0.30942085249535056],"arrayminus":[0.23657414699186197,0.30942085249535067],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"frame":null},{"x":[-0.26637679553919003,-0.31967046066771038,-0.94482647837993028],"y":[3,2,1],"text":["fit: -0.2664","fit: -0.3197","fit: -0.9448"],"type":"scatter","mode":"lines","opacity":1,"line":{"color":"transparent"},"error_x":{"array":[0.22482458084947074,0.23229781238420805,0.021183964637845221],"arrayminus":[0.22482458084947077,0.23229781238420805,0.021183964637845221],"type":"data","width":0,"symmetric":false,"color":"rgba(0,0,0,1)"},"showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":58.374429223744301,"r":7.3059360730593621,"b":60.639269406392714,"l":168.76712328767127},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.0628247660436372,1.0670903405253207],"tickmode":"array","ticktext":["-1.0","-0.5","0.0","0.5","1.0"],"tickvals":[-1,-0.5,0,0.5,1.0000000000000002],"categoryorder":"array","categoryarray":["-1.0","-0.5","0.0","0.5","1.0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"y5","title":"","hoverformat":".2f"},"annotations":[{"text":"wordscores","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.917808219178088},{"text":"Fidesz","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Jobbik","x":0.5,"y":0.78575342465753428,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"KDNP","x":0.5,"y":0.58575342465753422,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"LMP","x":0.5,"y":0.38575342465753415,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"MSZP","x":0.5,"y":0.18575342465753419,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(255,255,255,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0.81424657534246581,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["Kósa Lajos (Fidesz)","Dr. Gulyás Gergely (Fidesz)"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["Kósa Lajos (Fidesz)","Dr. Gulyás Gergely (Fidesz)"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.81424657534246581,"y1":1},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.61424657534246574,"y1":0.78575342465753428},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.78575342465753428,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.41424657534246567,"y1":0.58575342465753422},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.58575342465753422,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.21424657534246572,"y1":0.38575342465753415},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.38575342465753415,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":0.18575342465753419},{"type":"rect","fillcolor":"rgba(179,179,179,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.18575342465753419,"ysizemode":"pixel"}],"yaxis2":{"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["Vona Gábor (Jobbik)","Volner János (Jobbik)"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["Vona Gábor (Jobbik)","Volner János (Jobbik)"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.61424657534246574,0.78575342465753428],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[0.40000000000000002,1.6000000000000001],"tickmode":"array","ticktext":["Harrach Péter (KDNP)"],"tickvals":[1],"categoryorder":"array","categoryarray":["Harrach Péter (KDNP)"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.41424657534246567,0.58575342465753422],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[0.40000000000000002,3.6000000000000001],"tickmode":"array","ticktext":["Dr. Szél Bernadett (LMP)","Schmuck Erzsébet (LMP)","Dr. Schiffer András (LMP)"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["Dr. Szél Bernadett (LMP)","Schmuck Erzsébet (LMP)","Dr. Schiffer András (LMP)"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.21424657534246572,0.38575342465753415],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis5":{"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["Tóbiás József (MSZP)","Dr. Tóth Bertalan (MSZP)"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["Tóbiás József (MSZP)","Dr. Tóth Bertalan (MSZP)"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.18575342465753419],"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","height":1000,"barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3600f862908":{"x":{},"y":{},"type":"scatter"},"360077c03993":{"x":{},"y":{},"xmin":{},"xmax":{}}},"cur_data":"3600f862908","visdat":{"3600f862908":["function (y) ","x"],"360077c03993":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Ábra 9.4: A párton belüli wordscores-alapú skála
</p>
</div>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="47">
<li id="fn47"><p>A mintába nem került be Rogán Antal, akinek csak egy darab napirend előtti felszólalása volt.<a href="scaling.html#fnref47" class="footnote-back">↩︎</a></p></li>
<li id="fn48"><p>A <code>quanteda.textplots</code> csomag több megoldást is kínál az ábrák elkészítésére. Mivel ezek a megoldások kifejezetten a quanteda elemzések ábrázolására készültek, ezért rövid egysoros függvényekkel tudunk gyorsan ábrákat készíteni. A hátrányuk, hogy kevésbé tudjuk „személyre szabni” az ábráinkat, mint a <code>ggplot2</code> példák esetében. A <code>quanteda.textplots</code> megoldásokat ezen a linken demonstrálják a csomag készítői: <a href="https://quanteda.io/articles/pkgdown/examples/plotting.html">https://quanteda.io/articles/pkgdown/examples/plotting.html</a>.<a href="scaling.html#fnref48" class="footnote-back">↩︎</a></p></li>
<li id="fn49"><p>Azért nem Vona Gábor beszédét választottuk, mert az gyaníthatóan egy kiugró érték, ami nem reprezentálja megfelelően a sokaságot.<a href="scaling.html#fnref49" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="embedding.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="similarity.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
